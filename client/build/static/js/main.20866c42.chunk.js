(this.webpackJsonpbooksplus=this.webpackJsonpbooksplus||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),l=a.n(o),i=(a(74),a(23)),c=a(8),s=a(134),u=a(122),m=a(123),h=a(124),d=a(133),p=a(5),b=a(42),g=a(45),k=function(e){return{root:{width:"100%",height:"100%",marginBottom:0},grow:{flexGrow:1},link:{paddingRight:20,color:"#d44000",textDecoration:"none",fontSize:"1.5rem"},menuButton:{marginLeft:-12,marginRight:20},title:Object(b.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(g.fade)(e.palette.common.black,.15),"&:hover":{backgroundColor:Object(g.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(b.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}},v=a(38);var f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(v.a)(t,2),r=a[0],o=a[1],l=function(){o(!r)};return[r,l]},E=Object(n.createContext)();function w(e){var t=f(!1),a=Object(v.a)(t,2),n=a[0],o=a[1];return r.a.createElement(E.Provider,{value:{isDarkMode:n,toggleTheme:o}},e.children)}var j=Object(p.a)(k)((function(e){var t=Object(n.useContext)(E),a=t.isDarkMode,o=t.toggleTheme,l=e.classes;return r.a.createElement("div",{className:l.root},r.a.createElement(s.a,{position:"static",color:a?"default":"primary"},r.a.createElement(u.a,null,r.a.createElement(m.a,{className:l.menuButton,color:"inherit"},r.a.createElement(i.b,{to:"/"},r.a.createElement("span",{role:"img","aria-label":"books"},"\ud83d\udcda"))),r.a.createElement(h.a,{className:l.title,variant:"h6",color:"inherit"},"Books Plus"),r.a.createElement(d.a,{onChange:o}),r.a.createElement("div",{className:l.grow}),r.a.createElement(i.b,{className:l.link,to:"/saved"},"Saved"),r.a.createElement(i.b,{className:l.link,to:"/"},"Search"))))})),O=a(35),S=a(36),C=a(40),y=a(39),B=a(43),I=a.n(B),x=function(e){return I.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e))},D=function(){return I.a.get("/api/books")},N=function(e){return I.a.post("/api/books",e)},R=a(127),F=a(128),L=a(129),M=a(130),G=a(132),T=a(62),J=a.n(T),P=a(125);var q=Object(p.a)(k)((function(e){var t=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(J.a,null)),r.a.createElement(G.a,{value:e.search,onChange:e.handleInputChange,placeholder:"Your adventure...",classes:{root:t.inputRoot,input:t.inputInput},id:"book"})),r.a.createElement(P.a,{type:"submit",onClick:e.handleFormSubmit},"Search")))})),z=a(126);function Y(e){return r.a.createElement(z.a,null,r.a.createElement("img",{alt:e.title,src:e.image}))}function A(e){return r.a.createElement(z.a,null,r.a.createElement("h3",null,e.title),r.a.createElement("p",null," ",e.description),r.a.createElement("a",{href:e.link},"Click to view book"))}function H(e){return r.a.createElement(z.a,null,r.a.createElement(P.a,{onClick:e.handleSaveBtn},"Save this book!"))}var K=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){e.preventDefault();var t=e.target.value;n.setState({search:t})},n.handleFormSubmit=function(e){e.preventDefault(),n.setState({message:""}),n.searchGoogle(n.state.search)},n.searchGoogle=function(e){x(e).then((function(e){var t=e.data.items.map((function(e){var t=e.volumeInfo,a=t.title,n=t.authors,r=t.description,o=t.previewLink,l=t.imageLinks;return{image:l?l.thumbnail:"unavailable",title:a,authors:n,description:r,link:o}}));n.setState({books:t})}))},n.handleSaveBtn=function(e){e.preventDefault();var t=n.state.books[0].image,a=n.state.books[0].title,r=n.state.books[0].authors,o=n.state.books[0].link;n.state.books&&N({image:t,title:a,authors:r[0],link:o}).then((function(e){return console.log(e.title+" was added to your favorites")})).catch((function(e){return console.log(e)}))},n.state={books:[],search:""},n}return Object(S.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,null,r.a.createElement(q,{handleFormSubmit:this.handleFormSubmit,handleInputChange:this.handleInputChange,search:this.state.search})),r.a.createElement(R.a,null,r.a.createElement(F.a,null,r.a.createElement(L.a,null,this.state.books.map((function(t,a){return r.a.createElement(M.a,{key:a},r.a.createElement(Y,{image:t.image}),r.a.createElement(A,{title:t.title,description:t.description,link:t.link}),r.a.createElement(H,{handleSaveBtn:e.handleSaveBtn.bind(e)}))}))))))}}]),a}(n.Component),Q=a(131),U=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).loadBooks=function(){D().then((function(e){return n.setState({books:e.data})})).catch((function(e){return console.log(e)}))},n.state={books:[],search:""},n}return Object(S.a)(a,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"render",value:function(){return r.a.createElement(R.a,null,r.a.createElement(F.a,null,r.a.createElement(Q.a,null,r.a.createElement(M.a,null,r.a.createElement(z.a,{align:"center",style:{borderBottom:"none"}},"Saved Books:"))),r.a.createElement(L.a,null,this.state.books.map((function(e,t){return r.a.createElement(M.a,{key:t},r.a.createElement(Y,{image:e.image}),r.a.createElement(A,{title:e.title,description:e.description,link:e.link}))})))))}}]),a}(n.Component);function V(e){var t={backgroundColor:Object(n.useContext)(E).isDarkMode?"#5f939a":"#d8e3e7",height:"100vh",width:"100vw"};return r.a.createElement("div",{style:t},e.children)}var W=function(){return r.a.createElement(i.a,null,r.a.createElement(w,null,r.a.createElement(j,null),r.a.createElement(c.c,null,r.a.createElement(V,null,r.a.createElement(c.a,{path:"/",component:K,exact:!0}),r.a.createElement(c.a,{path:"/saved",component:U,exact:!0})))))};l.a.render(r.a.createElement(W,null),document.getElementById("root"))},69:function(e,t,a){e.exports=a(102)},74:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.20866c42.chunk.js.map